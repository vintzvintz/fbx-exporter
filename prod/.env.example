# shellcheck shell=bash disable=all
# Production Environment Configuration for FBX Exporter VPS Deployment
# Copy this file to .env and customize for your setup

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose project name (optional)
COMPOSE_PROJECT_NAME=fbx-exporter-prod

# =============================================================================
# APPLICATION VERSIONS (Pinned for production stability)
# =============================================================================

PROMETHEUS_VERSION=v2.54.1
GRAFANA_VERSION=11.3.0
FBX_EXPORTER_IMAGE_TAG=latest

# =============================================================================
# BIND CONFIGURATION
# =============================================================================

# IP address to bind services to
# Default: 127.0.0.1 (localhost only)
# Use 0.0.0.0 to bind to all interfaces (external access)
# Use specific IP for single interface binding
BIND_IP=127.0.0.1

# =============================================================================
# PORTS CONFIGURATION
# =============================================================================

# Freebox Exporter
FBX_EXPORTER_PORT=9091

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================

# IMPORTANT: Change these default credentials!
# GRAFANA_ADMIN_USER=admin
# GRAFANA_ADMIN_PASSWORD=changeme_secure_password

# =============================================================================
# PROMETHEUS CONFIGURATION
# =============================================================================

# Data retention period
PROMETHEUS_RETENTION_TIME=30d

# Global scrape intervals
PROMETHEUS_SCRAPE_INTERVAL=15s
FREEBOX_SCRAPE_INTERVAL=30s

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

DOCKER_NETWORK_NAME=fbx-export-prod

# =============================================================================
# DOCKER SECRETS CONFIGURATION
# =============================================================================

# This setup uses Docker secrets for sensitive data.
# Copy example files and customize:
#
# cp secrets/freebox_token.json.example secrets/freebox_token.json
# cp secrets/grafana_admin_user.txt.example secrets/grafana_admin_user.txt
# cp secrets/grafana_admin_password.txt.example secrets/grafana_admin_password.txt
#
# Then edit the actual secret files with your credentials.
# The secrets/ directory is gitignored to prevent accidental commits.

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. Use Docker secrets for all sensitive data (tokens, passwords)
# 2. Set proper file permissions on secret files (600)
# 3. Never commit actual secret files to git (.gitignore protects you)
# 4. Use a reverse proxy (nginx/traefik) with SSL for external access
# 5. Restrict access using firewall rules or VPN
# 6. Regularly rotate secrets and credentials

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# 1. Place your token.json file in the same directory as docker-compose.example.yml
# 2. Copy this file to .env and customize the values above
# 3. Run: docker-compose -f docker-compose.example.yml up -d
# 4. Monitor with: docker-compose -f docker-compose.example.yml logs -f
# 5. Access services:
#    - Metrics: http://your-vps:9091/metrics
#    - Prometheus: http://your-vps:9090
#    - Grafana: http://your-vps:3000